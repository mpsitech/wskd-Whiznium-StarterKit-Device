/**
	* \file Disp.c
	* Disp easy model controller (implementation)
	* \copyright (C) 2019-2020 MPSI Technologies GmbH
	* \author Alexander Wirthmueller (auto-generation)
	* \date created: 21 Oct 2021
	*/
// IP header --- ABOVE

#include "Disp.h"

#define shrdat shrdatDisp

// IP define.cust --- INSERT

/******************************************************************************
 constants and variables
 ******************************************************************************/

xdata struct ShrdatDisp shrdatDisp = {0}; // IP shrdat --- RLINE

// IP vars.oth --- IBEGIN
#define ROWMAX 128
#define COLMAX 128/8

// --- print operation (print)
enum StatePrint {
	statePrintSendA, statePrintSendB, statePrintSendC,
	statePrintIdle
};

static enum StatePrint statePrint = statePrintSendA;

// splash screen generated with the help of http://en.radzio.dxp.pl/bitmap_converter/
const uint8_t code splash[] = {
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3F, 0xFC, 0x00, 0x0F, 0xFC, 0x00, 0x00,
	0x0F, 0xFF, 0xFF, 0xFF, 0x03, 0xFE, 0x00, 0x7F, 0xC0, 0xFF, 0xFF, 0x80, 0x7F, 0xFF, 0x83, 0xF0,
	0x08, 0x00, 0x00, 0x01, 0x03, 0xFE, 0x00, 0x7F, 0xC0, 0xFF, 0xFF, 0xC0, 0xFF, 0xFF, 0x83, 0xF0,
	0x08, 0x00, 0x00, 0x01, 0x03, 0xFE, 0x00, 0xFF, 0xC0, 0xFF, 0xFF, 0xE0, 0xFF, 0xFF, 0x83, 0xF0,
	0x08, 0x00, 0x20, 0x01, 0x07, 0xFF, 0x00, 0xFF, 0xC0, 0xFF, 0xFF, 0xE1, 0xFF, 0xFF, 0x83, 0xF0,
	0x08, 0xC0, 0x70, 0x31, 0x07, 0xFF, 0x00, 0xFF, 0xC0, 0xFC, 0x07, 0xF1, 0xF8, 0x00, 0x03, 0xF0,
	0x08, 0x40, 0x50, 0x11, 0x07, 0xFF, 0x00, 0xF7, 0xC0, 0xFC, 0x03, 0xF1, 0xF0, 0x00, 0x03, 0xF0,
	0x08, 0x40, 0x50, 0x11, 0x07, 0xEF, 0x01, 0xF7, 0xC0, 0xFC, 0x03, 0xF1, 0xF0, 0x00, 0x03, 0xF0,
	0x08, 0x40, 0x70, 0x11, 0x07, 0xEF, 0x81, 0xF7, 0xC0, 0xFC, 0x03, 0xF1, 0xF0, 0x00, 0x03, 0xF0,
	0x08, 0x00, 0x20, 0x01, 0x07, 0xEF, 0x81, 0xF7, 0xE0, 0xFC, 0x01, 0xF1, 0xF8, 0x00, 0x03, 0xF0,
	0x08, 0x00, 0x00, 0x01, 0x07, 0xEF, 0x83, 0xE7, 0xE0, 0xFC, 0x03, 0xF1, 0xFC, 0x00, 0x03, 0xF0,
	0x09, 0xF8, 0x00, 0x01, 0x07, 0xE7, 0xC3, 0xE7, 0xE0, 0xFC, 0x03, 0xF1, 0xFF, 0x00, 0x03, 0xF0,
	0x0B, 0xF8, 0x20, 0x31, 0x07, 0xC7, 0xC3, 0xE7, 0xE0, 0xFC, 0x03, 0xF0, 0xFF, 0xF0, 0x03, 0xF0,
	0x0B, 0x18, 0x20, 0x29, 0x07, 0xC7, 0xC3, 0xE7, 0xE0, 0xFC, 0x0F, 0xF0, 0x7F, 0xFC, 0x03, 0xF0,
	0x0B, 0x18, 0x20, 0x29, 0x07, 0xC7, 0xC7, 0xC7, 0xE0, 0xFF, 0xFF, 0xE0, 0x3F, 0xFF, 0x03, 0xF0,
	0x0B, 0x98, 0x20, 0x29, 0x07, 0xC3, 0xE7, 0xC7, 0xE0, 0xFF, 0xFF, 0xE0, 0x0F, 0xFF, 0x83, 0xF0,
	0x0B, 0xF8, 0x20, 0x39, 0x07, 0xC3, 0xE7, 0xC7, 0xE0, 0xFF, 0xFF, 0xC0, 0x01, 0xFF, 0x83, 0xF0,
	0x03, 0xF0, 0x00, 0x01, 0x07, 0xC3, 0xE7, 0xC3, 0xE0, 0xFF, 0xFF, 0x00, 0x00, 0x3F, 0xC3, 0xF0,
	0x0E, 0x00, 0x00, 0x01, 0x07, 0xC3, 0xEF, 0x83, 0xE0, 0xFC, 0x00, 0x00, 0x00, 0x0F, 0xC3, 0xF0,
	0x00, 0x00, 0x00, 0x01, 0x07, 0xC1, 0xFF, 0x83, 0xE0, 0xFC, 0x00, 0x00, 0x00, 0x07, 0xC3, 0xF0,
	0x00, 0xC0, 0x70, 0x31, 0x07, 0xC1, 0xFF, 0x83, 0xE0, 0xFC, 0x00, 0x00, 0x00, 0x07, 0xC3, 0xF0,
	0x08, 0x40, 0x50, 0x11, 0x07, 0xC1, 0xFF, 0x03, 0xE0, 0xFC, 0x00, 0x00, 0x00, 0x07, 0xC3, 0xF0,
	0x08, 0x40, 0x50, 0x11, 0x07, 0xC0, 0xFF, 0x03, 0xE0, 0xFC, 0x00, 0x00, 0x00, 0x0F, 0xC3, 0xF0,
	0x08, 0x40, 0x50, 0x11, 0x07, 0xC0, 0xFF, 0x03, 0xE0, 0xFC, 0x00, 0x00, 0x00, 0x0F, 0xC3, 0xF0,
	0x08, 0x40, 0x70, 0x11, 0x07, 0xC0, 0x7E, 0x03, 0xE0, 0xFC, 0x00, 0x01, 0xFF, 0xFF, 0xC3, 0xF0,
	0x08, 0x00, 0x00, 0x01, 0x07, 0xC0, 0x00, 0x03, 0xE0, 0xFC, 0x00, 0x01, 0xFF, 0xFF, 0x83, 0xF0,
	0x08, 0x00, 0x00, 0x01, 0x07, 0xC0, 0x00, 0x03, 0xE0, 0xFC, 0x00, 0x01, 0xFF, 0xFF, 0x83, 0xF0,
	0x08, 0x00, 0x00, 0x01, 0x07, 0xC0, 0x00, 0x03, 0xE0, 0xFC, 0x00, 0x01, 0xFF, 0xFE, 0x03, 0xF0,
	0x0F, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xF8, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x06, 0x00, 0x80, 0x00, 0x00, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x0E, 0x72, 0x00, 0x80, 0x00, 0x00, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x04, 0x12, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x05, 0xB3, 0xE3, 0x81, 0xF3, 0xF0, 0xE1, 0x99, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x05, 0xA2, 0x20, 0x81, 0x21, 0x90, 0x20, 0x89, 0xB4, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x05, 0x62, 0x20, 0x80, 0x41, 0x10, 0x20, 0x89, 0xA4, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x07, 0x62, 0x20, 0x80, 0x81, 0x10, 0x20, 0x89, 0xA4, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x06, 0x62, 0x20, 0x81, 0x91, 0x10, 0x20, 0x89, 0xA4, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x06, 0x67, 0x73, 0xF3, 0xF3, 0x99, 0xF8, 0xFD, 0xB6, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x03, 0xE1, 0x00, 0x00, 0x00, 0x80, 0x00, 0x01, 0xEC, 0x30, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x02, 0x21, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x88, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x06, 0x07, 0xE3, 0xE3, 0xBB, 0xF0, 0xF0, 0xDC, 0x90, 0x70, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x03, 0x81, 0x00, 0x20, 0xC0, 0x81, 0x88, 0x60, 0xE0, 0x10, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0xE1, 0x01, 0xE0, 0x80, 0x81, 0xF8, 0x40, 0xD0, 0x10, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x21, 0x03, 0x20, 0x80, 0x81, 0x00, 0x40, 0x88, 0x10, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x04, 0x21, 0x06, 0x20, 0x80, 0x81, 0x80, 0x40, 0x8C, 0x10, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x07, 0xE1, 0xF3, 0xF3, 0xF0, 0xF8, 0xF9, 0xF9, 0xE6, 0xFC, 0x3E, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x30, 0x00, 0x1C, 0x00, 0x1C, 0x00, 0x00,
	0x07, 0xC0, 0x00, 0x00, 0xC0, 0x00, 0x00, 0x00, 0x00, 0xF0, 0x00, 0x24, 0x00, 0x32, 0x00, 0x00,
	0x02, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x22, 0x00, 0x03, 0x00, 0x00,
	0x02, 0x13, 0xC7, 0x39, 0xC0, 0xF8, 0xF0, 0x01, 0xCE, 0x10, 0x00, 0x62, 0x00, 0x02, 0x00, 0x00,
	0x02, 0x16, 0x22, 0x30, 0x41, 0x19, 0x88, 0x00, 0x8C, 0x10, 0x00, 0x42, 0x00, 0x0E, 0x00, 0x00,
	0x02, 0x17, 0xF1, 0x20, 0x43, 0x01, 0xF8, 0x00, 0x48, 0x10, 0x00, 0x42, 0x00, 0x03, 0x00, 0x00,
	0x02, 0x16, 0x01, 0x20, 0x43, 0x01, 0x00, 0x00, 0x48, 0x10, 0x00, 0x62, 0x00, 0x01, 0x00, 0x00,
	0x02, 0x26, 0x01, 0xC0, 0x41, 0x09, 0x80, 0x00, 0x70, 0x10, 0x10, 0x26, 0x08, 0x03, 0x00, 0x00,
	0x07, 0xC3, 0xF0, 0xC3, 0xF1, 0xF0, 0xF8, 0x00, 0x30, 0xFC, 0x38, 0x3C, 0x1C, 0x3E, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x01, 0x81, 0xC1, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x02, 0x43, 0x63, 0x23, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x04, 0x22, 0x22, 0x30, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x22, 0x20, 0x20, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x42, 0x20, 0x60, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x82, 0x20, 0xC0, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x01, 0x02, 0x21, 0x80, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x06, 0x02, 0x23, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x07, 0xE1, 0xC3, 0xF3, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

// IP vars.oth --- IEND

/******************************************************************************
 initialization
 ******************************************************************************/

void dispInit() {
	// IP init --- IBEGIN
	bool sns;

	DISPCS = 0;
	DISPEN = 1;

	// print splash screen at start-up
	SET_SENSITIVE_DISP();
	// IP init --- IEND
}

/******************************************************************************
 execution
 ******************************************************************************/

bool dispRun() {
	bool sns;

	// IP run.cust1 --- IBEGIN
	static xdata uint8_t row = 0;
	uint8_t i;

	uint8_t dummy;
	// IP run.cust1 --- IEND
	
	UNSET_SENSITIVE_DISP();

	// IP run.cust2 --- IBEGIN
	switch (statePrint) {
		case statePrintSendA:
			flags.reqDispToMutexLock = 1;
			SET_EVT_reqDispToMutexLock();

			statePrint = statePrintSendB;

			break;

		case statePrintSendB:
			if (flags.ackDispToMutexLock == 1) {
				DISPCS = 1;

				// two control bytes
				for (i = 0; i < 2; i++) {
					if (i == 0) SPI0DAT = 0x80;
					else {
						dummy = row + 1;
						dummy = (dummy & 0xF0) >> 4 | (dummy & 0x0F) << 4;
						dummy = (dummy & 0xCC) >> 2 | (dummy & 0x33) << 2;
						dummy = (dummy & 0xAA) >> 1 | (dummy & 0x55) << 1;

						SPI0DAT = dummy;
					}

					while (SPI0CN0_SPIF == 0) {};

					dummy = SPI0DAT;
					SPI0CN0_SPIF = 0;
				};

				// 16 data bytes
				for (i = 0; i < COLMAX; i++) {
					SPI0DAT = splash[row * COLMAX + i];
					while (SPI0CN0_SPIF == 0) {};

					dummy = SPI0DAT;
					SPI0CN0_SPIF = 0;
				};

				// two dummy bytes
				for (i = 0; i < 2; i++) {
					SPI0DAT = 0x00;
					while (SPI0CN0_SPIF == 0) {};

					dummy = SPI0DAT;
					SPI0CN0_SPIF = 0;
				};

				DISPCS = 0;

				flags.reqDispToMutexLock = 0;
				SET_EVT_reqDispToMutexLock();

				statePrint = statePrintSendC;
			};

			break;

		case statePrintSendC:
			if (flags.ackDispToMutexLock == 0) {
				row++;

				if (row == ROWMAX) statePrint = statePrintIdle;
				else {
					flags.reqDispToMutexLock = 1;
					SET_EVT_reqDispToMutexLock();

					statePrint = statePrintSendB;
				};
			};

			break;

		case statePrintIdle:
			break;
	};
	// IP run.cust2 --- IEND
	
	return sns;
}

/******************************************************************************
 other
 ******************************************************************************/

// IP oth --- INSERT
